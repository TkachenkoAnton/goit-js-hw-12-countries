{"version":3,"sources":["webpack:///./js/refs.js","webpack:///./js/fetchCountries.js"],"names":["refs","formCountryName","document","querySelector","formCountryNameInput","searchResult","_","require","value","searchQuery","debounce","fetchCountries","fetch","then","response","json","data","filter","country","name","toLowerCase","includes","countriesArray","length","map","insertAdjacentHTML","multipleRender","capital","population","languages","flag","singleRender","innerHTML","addEventListener","e","preventDefault"],"mappings":"6MAMeA,EANF,CACXC,gBAAiBC,SAASC,cAAc,oBACxCC,qBAAsBF,SAASC,cAAc,yBAC7CE,aAAcH,SAASC,cAAc,kBCFjCG,EAAIC,EAAQ,QAElBP,EAAKI,qBAAqBI,MAAQ,GAElC,IAAMC,EAAcH,EAAEI,UAAS,WAC7BC,EAAeX,EAAKI,qBAAqBI,SACxC,KAEH,SAASG,EAAeF,GACF,KAAhBA,EAIJG,MAAM,yCAAyCH,GAC5CI,MAAK,SAAAC,GACJ,OAAOA,EAASC,UAEjBF,MAAK,SAAAG,GAAI,OACRA,EAAKC,QAAO,SAAAC,GAAO,OACjBA,EAAQC,KACLC,cACAC,SAASrB,EAAKI,qBAAqBI,MAAMY,qBAG/CP,MAAK,SAAAS,GACAA,EAAeC,OAAS,GAAKD,EAAeC,QAAU,GACxDD,EAAeE,KAAI,aAW3B,SAAwBL,GACtBnB,EAAKK,aAAaoB,mBAAmB,YAArC,OAAyDN,EAAzD,SAXQO,CAD+B,EAAXP,SAGa,IAA1BG,EAAeC,QACxBD,EAAeE,KAAI,aAW3B,SAAsBL,EAAMQ,EAASC,EAAYC,EAAWC,GAC1D9B,EAAKK,aAAaoB,mBAChB,YADF,qCAIcN,EAJd,wBAKcQ,EALd,wBAMcC,EANd,wBAOcC,EAPd,kCAQwBC,EARxB,UAQsCX,EARtC,uCAXQY,CADqE,EAAjDZ,KAAiD,EAA3CQ,QAA2C,EAAlCC,WAAkC,EAAtBC,UAAsB,EAAXC,YA2B1B,KAApC9B,EAAKI,qBAAqBI,QAC5BR,EAAKK,aAAa2B,UAAY,IAIlChC,EAAKI,qBAAqB6B,iBAAiB,QAASxB,GACpDT,EAAKC,gBAAgBgC,iBAAiB,UAAU,SAAAC,GAAC,OAAIA,EAAEC,sB","file":"main.0ec9ff5d18d9788b944d.js","sourcesContent":["const refs = {\n  formCountryName: document.querySelector('#formCountryName'),\n  formCountryNameInput: document.querySelector('#formCountryNameInput'),\n  searchResult: document.querySelector('#searchResult'),\n};\n\nexport default refs;\n","import refs from './refs.js';\nconst _ = require('lodash');\n\nrefs.formCountryNameInput.value = '';\n\nconst searchQuery = _.debounce(() => {\n  fetchCountries(refs.formCountryNameInput.value);\n}, 500);\n\nfunction fetchCountries(searchQuery) {\n  if (searchQuery === '') {\n    clearUl();\n    return;\n  }\n  fetch(`https://restcountries.eu/rest/v2/name/${searchQuery}`)\n    .then(response => {\n      return response.json();\n    })\n    .then(data =>\n      data.filter(country =>\n        country.name\n          .toLowerCase()\n          .includes(refs.formCountryNameInput.value.toLowerCase()),\n      ),\n    )\n    .then(countriesArray => {\n      if (countriesArray.length > 1 && countriesArray.length <= 10) {\n        countriesArray.map(({ name }) => {\n          multipleRender(name);\n        });\n      } else if (countriesArray.length === 1) {\n        countriesArray.map(({ name, capital, population, languages, flag }) => {\n          singleRender(name, capital, population, languages, flag);\n        });\n      }\n    });\n}\n\nfunction multipleRender(name) {\n  refs.searchResult.insertAdjacentHTML('beforeend', `<li>${name}</li>`);\n}\n\nfunction singleRender(name, capital, population, languages, flag) {\n  refs.searchResult.insertAdjacentHTML(\n    'beforeend',\n    `<li>\n        <ul>\n          <li>${name}</li>\n          <li>${capital}</li>\n          <li>${population}</li>\n          <li>${languages}</li>\n          <li><img src=\"${flag}\" alt=\"${name}\"></li>\n        </ul>\n      </li>`,\n  );\n}\n\nfunction clearUl() {\n  if (refs.formCountryNameInput.value === '') {\n    refs.searchResult.innerHTML = '';\n  }\n}\n\nrefs.formCountryNameInput.addEventListener('input', searchQuery);\nrefs.formCountryName.addEventListener('submit', e => e.preventDefault());\n\nexport default fetchCountries;\n"],"sourceRoot":""}